
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Surface Flux Analysis &#8212; Project Pythia Cookbook Template</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-pythia-theme.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Project Pythia Notebook Template" href="notebook-template.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-T52X8HNYE8"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-T52X8HNYE8');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="132">
    <div class="container-fluid" id="shim"></div>
    <div class="container-fluid" id="banner"></div>
    <nav class="navbar navbar-dark navbar-expand-lg bg-dark fixed-top bd-navbar shadow" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="https://projectpythia.org">
  <img src="../_static/pythia_logo-white-rtext.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class=" collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://projectpythia.org">Home</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://foundations.projectpythia.org">Foundations</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://cookbooks.projectpythia.org">Cookbooks</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://projectpythia.org/resource-gallery.html">Resources</a>
  </li>
  
  <li class="nav-item">
    
    
    
    <a class="nav-link nav-internal" href="https://projectpythia.org/index.html#join-us">Community</a>
  </li>
  
  
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/ProjectPythia" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/project_pythia" rel="noopener" target="_blank" title="Twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://www.youtube.com/channel/UCoZPBqJal5uKpO8ZiwzavCw" rel="noopener" target="_blank" title="YouTube">
            <span><i class="fab fa-youtube-square"></i></span>
            <label class="sr-only">YouTube</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    <div class="container-xl">
      <div class="row">
        
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../README.html">
   Surface Flux Analysis Cookbook
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="notebook-template.html">
   Project Pythia Notebook Template
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Surface Flux Analysis
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by <a href="https://projectpythia.org">Project Pythia</a>.<br><br>
All code in Pythia Cookbooks is licensed under Apache 2.0. All other non-code content is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons BY 4.0 (CC BY 4.0)</a>.<br><br>

</div>

</div>

        

        <main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main"><div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/notebooks/Surface_Flux_Analysis_Final.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/ProjectPythia/cookbook-template/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/ProjectPythia/cookbook-template//issues/new?title=Issue%20on%20page%20%2Fnotebooks/Surface_Flux_Analysis_Final.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/ProjectPythia/cookbook-template/edit/main/notebooks/Surface_Flux_Analysis_Final.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="http://binder.mypythia.org/v2/gh/ProjectPythia/cookbook-template/main?urlpath=lab/tree/notebooks/Surface_Flux_Analysis_Final.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> On this page
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Surface Flux Analysis
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#overview">
     Overview
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prerequisites">
     Prerequisites
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#imports">
     Imports
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-is-the-arm-eddy-correlation-measurement-system-ecor">
     What is the ARM Eddy Correlation Measurement System (ECOR)?
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#why-are-fluxes-important">
       Why are fluxes important?
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#choosing-a-start-and-end-date">
     Choosing a Start and End Date
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#downloading-and-reading-in-arm-data">
     Downloading and Reading in ARM Data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#downloading-and-reading-everything-in">
   Downloading and Reading Everything in
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#group-the-data-and-quick-plots">
   Group the Data and Quick Plots
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#quality-control-of-ecor-data">
     Quality Control of ECOR Data
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#crop-type-information">
     Crop Type Information
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#what-crops-are-we-working-with">
       What crops are we working with?
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#putting-it-all-together">
       Putting it All Together
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#resources-and-references">
     Resources and references
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#datasets-used-in-this-example">
       Datasets used in this example
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#cropscape-citations">
       Cropscape Citations
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#arm-instrument-handbook">
       ARM Instrument Handbook
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#creators">
       Creators
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
          <div id="main-content" class="row">
            <div class="col-12 col-md-9 pl-md-3 pr-md-0">
              
              <div>
                
  <p><a class="reference internal" href="https://www.arm.gov/uploads/ECOR_new_SGP1.jpg"><img alt="ARM ECOR Banner" src="https://www.arm.gov/uploads/ECOR_new_SGP1.jpg" style="width: 800px;" /></a></img></p>
<div class="tex2jax_ignore mathjax_ignore section" id="surface-flux-analysis">
<h1>Surface Flux Analysis<a class="headerlink" href="#surface-flux-analysis" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<hr class="docutils" />
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>The Atmospheric Radiation Measurement (ARM) user facility has a significant data record of surface flux (momentum, sensible and latent heat, and CO2) data available at multiple locations around the Southern Great Plains (SGP) observatory.  This project will explore long-term data analysis of the fluxes and break down the flux statistics by vegetation type.  Students will gain experience with Python, surface flux data, ARM, and open-source software. Topics included in this notebook are:</p>
<ol class="arabic simple">
<li><p>What is the ARM Eddy Correlation Measurement System (ECOR)?</p></li>
<li><p>Downloading and Reading in ECOR data</p></li>
<li><p>Quality controlling ECOR data at SGP</p></li>
<li><p>Crop Type Information</p></li>
<li><p>Putting it all together!</p></li>
</ol>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>This notebook will rely heavily on Python and the <a class="reference external" href="https://github.com/ARM-DOE/ACT">Atmospheric data Community Toolkit (ACT)</a>.  Don’t worry if you don’t have experience with either, this notebook will walk you though what you need to know.</p>
<p>You will also need an account and token to download data using the ARM Live webservice.  Navigate to the <a class="reference external" href="https://adc.arm.gov/armlive/">webserive information page</a> and log in to get your token.  Your account username will be your ARM username.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Concepts</p></th>
<th class="head"><p>Importance</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="https://github.com/ARM-DOE/ACT">ACT</a></p></td>
<td><p>Helpful</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p><strong>Time to learn</strong>: 60 Minutes</p></li>
<li><p><strong>System requirements</strong>:</p>
<ul>
<li><p>Python 3.11 or latest</p></li>
<li><p>ACT v1.4.5 or latest</p></li>
<li><p>numpy</p></li>
<li><p>xarray</p></li>
<li><p>matplotlib</p></li>
</ul>
</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="imports">
<h2>Imports<a class="headerlink" href="#imports" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">act</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">urllib3</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">from</span> <span class="nn">distributed</span> <span class="kn">import</span> <span class="n">Client</span> 
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">()</span>
<span class="n">client</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
    <div style="width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;"> </div>
    <div style="margin-left: 48px;">
        <h3 style="margin-bottom: 0px;">Client</h3>
        <p style="color: #9D9D9D; margin-bottom: 0px;">Client-9b0683e4-3166-11ee-893f-6045bd022ae2</p>
        <table style="width: 100%; text-align: left;">

        <tr>
        
            <td style="text-align: left;"><strong>Connection method:</strong> Cluster object</td>
            <td style="text-align: left;"><strong>Cluster type:</strong> distributed.LocalCluster</td>
        
        </tr>

        
            <tr>
                <td style="text-align: left;">
                    <strong>Dashboard: </strong> <a href="http://127.0.0.1:8787/status" target="_blank">http://127.0.0.1:8787/status</a>
                </td>
                <td style="text-align: left;"></td>
            </tr>
        

        </table>

        

        
            <details>
            <summary style="margin-bottom: 20px;"><h3 style="display: inline;">Cluster Info</h3></summary>
            <div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-mod-trusted jp-OutputArea-output">
    <div style="width: 24px; height: 24px; background-color: #e1e1e1; border: 3px solid #9D9D9D; border-radius: 5px; position: absolute;">
    </div>
    <div style="margin-left: 48px;">
        <h3 style="margin-bottom: 0px; margin-top: 0px;">LocalCluster</h3>
        <p style="color: #9D9D9D; margin-bottom: 0px;">68f9f92f</p>
        <table style="width: 100%; text-align: left;">
            <tr>
                <td style="text-align: left;">
                    <strong>Dashboard:</strong> <a href="http://127.0.0.1:8787/status" target="_blank">http://127.0.0.1:8787/status</a>
                </td>
                <td style="text-align: left;">
                    <strong>Workers:</strong> 2
                </td>
            </tr>
            <tr>
                <td style="text-align: left;">
                    <strong>Total threads:</strong> 2
                </td>
                <td style="text-align: left;">
                    <strong>Total memory:</strong> 6.77 GiB
                </td>
            </tr>
            
            <tr>
    <td style="text-align: left;"><strong>Status:</strong> running</td>
    <td style="text-align: left;"><strong>Using processes:</strong> True</td>
</tr>

            
        </table>

        <details>
            <summary style="margin-bottom: 20px;">
                <h3 style="display: inline;">Scheduler Info</h3>
            </summary>

            <div style="">
    <div>
        <div style="width: 24px; height: 24px; background-color: #FFF7E5; border: 3px solid #FF6132; border-radius: 5px; position: absolute;"> </div>
        <div style="margin-left: 48px;">
            <h3 style="margin-bottom: 0px;">Scheduler</h3>
            <p style="color: #9D9D9D; margin-bottom: 0px;">Scheduler-6ab5b29e-4a15-4565-ba69-54bcb6268d2c</p>
            <table style="width: 100%; text-align: left;">
                <tr>
                    <td style="text-align: left;">
                        <strong>Comm:</strong> tcp://127.0.0.1:45809
                    </td>
                    <td style="text-align: left;">
                        <strong>Workers:</strong> 2
                    </td>
                </tr>
                <tr>
                    <td style="text-align: left;">
                        <strong>Dashboard:</strong> <a href="http://127.0.0.1:8787/status" target="_blank">http://127.0.0.1:8787/status</a>
                    </td>
                    <td style="text-align: left;">
                        <strong>Total threads:</strong> 2
                    </td>
                </tr>
                <tr>
                    <td style="text-align: left;">
                        <strong>Started:</strong> Just now
                    </td>
                    <td style="text-align: left;">
                        <strong>Total memory:</strong> 6.77 GiB
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <details style="margin-left: 48px;">
        <summary style="margin-bottom: 20px;">
            <h3 style="display: inline;">Workers</h3>
        </summary>

        
        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 0</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:46097
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="http://127.0.0.1:46535/status" target="_blank">http://127.0.0.1:46535/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 3.38 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:45679
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-scratch-space/worker-euyy17zx
                        </td>
                    </tr>

                    

                    

                </table>
            </details>
            </div>
        </div>
        
        <div style="margin-bottom: 20px;">
            <div style="width: 24px; height: 24px; background-color: #DBF5FF; border: 3px solid #4CC9FF; border-radius: 5px; position: absolute;"> </div>
            <div style="margin-left: 48px;">
            <details>
                <summary>
                    <h4 style="margin-bottom: 0px; display: inline;">Worker: 1</h4>
                </summary>
                <table style="width: 100%; text-align: left;">
                    <tr>
                        <td style="text-align: left;">
                            <strong>Comm: </strong> tcp://127.0.0.1:33645
                        </td>
                        <td style="text-align: left;">
                            <strong>Total threads: </strong> 1
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Dashboard: </strong> <a href="http://127.0.0.1:38191/status" target="_blank">http://127.0.0.1:38191/status</a>
                        </td>
                        <td style="text-align: left;">
                            <strong>Memory: </strong> 3.38 GiB
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left;">
                            <strong>Nanny: </strong> tcp://127.0.0.1:34685
                        </td>
                        <td style="text-align: left;"></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: left;">
                            <strong>Local directory: </strong> /tmp/dask-scratch-space/worker-4b4qbogk
                        </td>
                    </tr>

                    

                    

                </table>
            </details>
            </div>
        </div>
        

    </details>
</div>

        </details>
    </div>
</div>
            </details>
        

    </div>
</div></div></div>
</div>
</div>
<div class="section" id="what-is-the-arm-eddy-correlation-measurement-system-ecor">
<h2>What is the ARM Eddy Correlation Measurement System (ECOR)?<a class="headerlink" href="#what-is-the-arm-eddy-correlation-measurement-system-ecor" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>The eddy correlation (ECOR) flux measurement system provides half-hour measurements of the surface turbulent fluxes of momentum, sensible heat, latent heat, and carbon dioxide. The ECOR uses the eddy covariance technique, which involves correlation of the vertical wind component with the horizontal wind component, air temperature, water vapor density, and CO2 density.</p>
<p>More information on the system can be found on <a class="reference external" href="https://arm.gov/capabilities/instruments/ecor">ARM’s ECOR instrument page</a>.  Please note that the <a class="reference external" href="https://www.arm.gov/publications/tech_reports/handbooks/ecor_handbook.pdf">Instrument Handbook</a> has a lot of useful information in it as well, including some good quality control information that will come in handy later.</p>
<div class="section" id="why-are-fluxes-important">
<h3>Why are fluxes important?<a class="headerlink" href="#why-are-fluxes-important" title="Permalink to this headline"><i class="fas fa-link"></i></a></h3>
<p>Land-atmosphere interactions (LAI) are the main drivers of earth’s surface water and energy budgets.  Understanding how energy, heat, and greenhouse gases flow from the surface is important for verifying and improving global climate models.  Understanding the impact crop type has on these fluxes can have wide impacts as 52% of the U.S. land base is used for agriculture (<a class="reference external" href="https://www.ers.usda.gov/topics/farm-economy/land-use-land-value-tenure/#:~:text=Agricultural%20production%20is%20a%20major,of%20the%20U.S.%20land%20base.">USDA</a>) with the Food and Agriculture Organization of the United Nations indicating that roughly 38% of the entire world is dedicated to agriculture.</p>
</div>
</div>
<div class="section" id="choosing-a-start-and-end-date">
<h2>Choosing a Start and End Date<a class="headerlink" href="#choosing-a-start-and-end-date" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>Run the cell and input your start and end year, month and day.  Dates in the datasets range from 10/19/2010 to 10/22/2019.  WARNING!!!  Choosing more than around 4 years worth of data at a time is NOT currently recommended.  Doing so will result in very long run times for downloading, processing, and plotting the data.  Choose dates at your own risk.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Choose dates</span>
<span class="n">startdate</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input Start Year:&#39;</span><span class="p">)),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input Start Month:&#39;</span><span class="p">)),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input Start Day:&#39;</span><span class="p">)))</span>
<span class="n">enddate</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input End Year:&#39;</span><span class="p">)),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input End Month:&#39;</span><span class="p">)),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input End Day:&#39;</span><span class="p">)))</span>
<span class="c1">#Convert them to numbers only</span>
<span class="n">date1</span> <span class="o">=</span> <span class="n">startdate</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">date2</span> <span class="o">=</span> <span class="n">enddate</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1">#Choose dates</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">startdate</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input Start Year:&#39;</span><span class="p">)),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input Start Month:&#39;</span><span class="p">)),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input Start Day:&#39;</span><span class="p">)))</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">enddate</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input End Year:&#39;</span><span class="p">)),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input End Month:&#39;</span><span class="p">)),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Input End Day:&#39;</span><span class="p">)))</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="c1">#Convert them to numbers only</span>

<span class="nn">File /usr/share/miniconda3/envs/cookbook-dev/lib/python3.10/site-packages/ipykernel/kernelbase.py:1201,</span> in <span class="ni">Kernel.raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">   </span><span class="mi">1199</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1200</span>     <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1201</span>     <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1202</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1203</span>     <span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1204</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_parent_ident</span><span class="p">[</span><span class="s2">&quot;shell&quot;</span><span class="p">],</span>
<span class="g g-Whitespace">   </span><span class="mi">1205</span>     <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;shell&quot;</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1206</span>     <span class="n">password</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1207</span> <span class="p">)</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="downloading-and-reading-in-arm-data">
<h2>Downloading and Reading in ARM Data<a class="headerlink" href="#downloading-and-reading-in-arm-data" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>In this section, you will download data from ARM’s Live Data Web Service and read it in to an xarray dataset using ACT.  <strong>Warning!  Do not commit your username and token to the Github repo!  You do not want to make these public</strong></p>
<p>If you read the instrument webpage, it noted that the 30ecor datastream has the uncorrected fluxes and it’s recommended that routine ECOR corrections are applied.  The corrected data are available in the 30qcecor Value-Added Product (VAP) so that is what we are going to be working with.  Note that this dataset is only available from 2010 onward and the SGP ECOR systems were upgraded in October 2019 and are producing corrected fluxes in the ECORSF datastream.  While the QCECOR product has corrected fluxes it doees not include wind direction and speed that we will need later on so we will need to download both the QCECOR and base ECOR data products.</p>
<p>These definitions subset the data to only include certain variables necessary for plotting. This helps to reduce the time it takes to read everything in.  For more information about all the variables included in both datasets, check out https://doi.org/10.5439/1097546 for the QC ECOR dataset and https://doi.org/10.5439/1025039 for the standard ECOR dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Subset for ECOR data</span>
<span class="k">def</span> <span class="nf">subset_variables</span><span class="p">(</span><span class="n">ds_ecor</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">ds_ecor</span><span class="p">[[</span><span class="s2">&quot;h&quot;</span><span class="p">,</span><span class="s2">&quot;lv&quot;</span><span class="p">,</span><span class="s2">&quot;fc&quot;</span><span class="p">,</span><span class="s2">&quot;wind_dir&quot;</span><span class="p">,</span><span class="s2">&quot;wind_spd&quot;</span><span class="p">,</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="s2">&quot;lon&quot;</span><span class="p">,</span><span class="s2">&quot;base_time&quot;</span><span class="p">,</span><span class="s2">&quot;time_offset&quot;</span><span class="p">]]</span>
<span class="c1">#Subset for QC data</span>
<span class="k">def</span> <span class="nf">subset_variables2</span><span class="p">(</span><span class="n">ds</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">ds</span><span class="p">[[</span><span class="s2">&quot;sensible_heat_flux&quot;</span><span class="p">,</span><span class="s2">&quot;latent_heat_flux&quot;</span><span class="p">,</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span><span class="s2">&quot;lon&quot;</span><span class="p">,</span><span class="s2">&quot;base_time&quot;</span><span class="p">,</span><span class="s2">&quot;time_offset&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="downloading-and-reading-everything-in">
<h1>Downloading and Reading Everything in<a class="headerlink" href="#downloading-and-reading-everything-in" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<p>Input the facility number of your choice (just the number) and the data will start downloading.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set your ARM Live data username and password.</span>
<span class="n">username</span> <span class="o">=</span> <span class="s1">&#39;username&#39;</span>
<span class="n">token</span> <span class="o">=</span> <span class="s1">&#39;token&#39;</span>
<span class="c1"># If you don&#39;t know the datastream you can always download through data discovery as well</span>
<span class="c1"># https://adc.arm.gov/discovery/#/</span>
<span class="c1"># You can also easily change the facility (E14) to other ones as well</span>
<span class="n">n</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Facility Number:&#39;</span><span class="p">)</span>
<span class="n">datastream</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;sgp30qcecorE</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="si">}</span><span class="s1">.s1&#39;</span>
<span class="c1">#Focus on 10/22/2010-10/19/2019</span>
<span class="c1"># Download data using the webservice</span>
<span class="n">qcecor_files</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">discovery</span><span class="o">.</span><span class="n">download_data</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">datastream</span><span class="p">,</span> <span class="n">date1</span><span class="p">,</span> <span class="n">date2</span><span class="p">)</span>
<span class="c1"># Download ECOR data using the webservice</span>
<span class="n">datastream</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;sgp30ecorE</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="si">}</span><span class="s1">.b1&#39;</span>
<span class="n">ecor_files</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">discovery</span><span class="o">.</span><span class="n">download_data</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">datastream</span><span class="p">,</span> <span class="n">date1</span><span class="p">,</span> <span class="n">date2</span><span class="p">)</span>
<span class="c1">#Read in the data       </span>
<span class="n">ds_ecor</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">ecor_files</span><span class="p">,</span>
                        <span class="n">preprocess</span><span class="o">=</span><span class="n">subset_variables</span><span class="p">)</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">qcecor_files</span><span class="p">,</span>
                        <span class="n">preprocess</span><span class="o">=</span><span class="n">subset_variables2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Facility Number:14
[DOWNLOADING] sgp30qcecorE14.s1.20180401.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180402.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180403.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180404.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180405.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180406.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180407.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180408.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180409.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180410.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180411.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180412.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180413.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180414.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180415.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180416.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180417.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180418.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180419.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180420.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180421.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180422.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180423.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180424.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180425.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180426.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180427.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180428.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180429.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180430.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180501.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180502.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180503.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180504.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180505.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180506.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180507.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180508.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180509.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180510.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180511.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180512.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180513.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180514.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180515.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180516.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180517.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180518.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180519.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180520.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180521.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180522.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180523.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180524.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180525.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180526.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180527.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180528.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180529.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180530.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180531.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180601.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180602.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180603.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180604.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180605.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180606.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180607.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180608.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180609.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180610.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180611.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180612.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180613.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180614.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180615.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180616.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180617.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180618.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180619.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180620.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180621.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180622.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180623.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180624.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180625.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180626.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180627.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180628.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180629.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180630.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180701.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180702.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180703.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180704.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180705.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180706.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180707.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180708.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180709.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180710.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180711.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180712.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180713.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180714.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180715.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180716.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180717.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180718.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180719.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180720.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180721.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180722.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180723.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180724.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180725.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180726.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180727.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180728.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180729.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180730.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180731.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180801.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180802.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180803.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180804.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180805.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180806.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180807.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180808.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180809.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180810.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180811.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180812.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180813.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180814.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180815.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180816.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180817.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180818.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180819.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180820.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180821.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180822.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180823.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180824.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180825.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180826.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180827.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180828.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180829.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180830.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180831.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180901.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180902.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180903.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180904.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180905.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180906.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180907.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180908.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180909.000000.nc
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[DOWNLOADING] sgp30qcecorE14.s1.20180910.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180911.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180912.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180913.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180914.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180915.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180916.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180917.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180918.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180919.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180920.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180921.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180922.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180923.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180924.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180925.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180926.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180927.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180928.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180929.000000.nc
[DOWNLOADING] sgp30qcecorE14.s1.20180930.000000.nc

If you use these data to prepare a publication, please cite:

Xie, S. Quality Controlled Eddy Correlation Flux Measurement (30QCECOR).
Atmospheric Radiation Measurement (ARM) User Facility.
https://doi.org/10.5439/1989601

[DOWNLOADING] sgp30ecorE14.b1.20180706.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180908.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180907.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180909.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180910.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180707.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180708.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180911.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180917.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180711.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180916.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180628.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180713.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180714.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180621.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180622.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180623.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180624.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180625.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180626.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180627.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180715.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180702.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180701.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180704.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180703.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180705.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180717.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180718.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180719.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180720.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180721.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180722.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180723.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180724.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180725.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180726.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180727.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180729.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180730.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180731.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180728.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180801.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180802.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180803.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180804.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180805.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180807.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180918.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180919.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180808.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180806.183000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180806.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180809.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180810.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180811.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180812.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180813.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180814.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180815.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180816.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180817.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180819.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180818.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180820.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180821.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180822.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180823.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180824.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180825.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180826.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180827.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180828.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180829.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180830.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180831.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180901.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180902.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180903.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180904.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180905.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180906.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180913.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180914.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180915.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180920.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180921.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180922.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180923.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180924.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180925.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180926.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180927.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180928.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180929.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180930.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180629.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180630.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180716.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180502.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180503.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180504.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180501.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180505.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180506.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180507.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180508.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180509.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180402.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180401.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180403.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180404.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180405.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180407.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180406.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180411.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180408.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180412.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180409.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180410.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180413.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180414.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180415.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180416.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180419.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180420.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180417.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180418.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180418.130000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180421.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180422.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180423.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180424.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180428.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180427.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180425.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180426.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180429.000000.cdf
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[DOWNLOADING] sgp30ecorE14.b1.20180430.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180712.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180512.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180511.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180510.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180513.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180521.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180522.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180524.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180523.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180525.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180527.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180605.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180526.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180604.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180606.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180608.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180607.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180609.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180515.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180514.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180516.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180519.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180520.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180518.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180517.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180528.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180531.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180530.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180601.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180529.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180602.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180610.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180603.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180613.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180611.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180612.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180614.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180615.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180616.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180617.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180618.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180619.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180620.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180710.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180912.000000.cdf
[DOWNLOADING] sgp30ecorE14.b1.20180709.000000.cdf

If you use these data to prepare a publication, please cite:

Sullivan, R., Billesbach, D., Keeler, E., &amp; Ermold, B. Eddy Correlation Flux
Measurement System (30ECOR). Atmospheric Radiation Measurement (ARM) User
Facility. https://doi.org/10.5439/1025039
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_ecor</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:      (time: 8780)
Coordinates:
  * time         (time) datetime64[ns] 2018-04-01 ... 2018-09-30T23:30:00
Data variables:
    h            (time) float32 dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;
    lv           (time) float32 dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;
    fc           (time) float32 dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;
    wind_dir     (time) float32 dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;
    wind_spd     (time) float32 dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;
    lat          (time) float32 36.61 36.61 36.61 36.61 ... 36.61 36.61 36.61
    lon          (time) float32 -97.49 -97.49 -97.49 ... -97.49 -97.49 -97.49
    base_time    (time) datetime64[ns] 2018-04-01 2018-04-01 ... 2018-09-30
    time_offset  (time) datetime64[ns] dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;
Attributes: (12/40)
    command_line:              ecor_ingest -s sgp -f E14
    process_version:           ingest-ecor-13.4-0.el6
    dod_version:               30ecor-b1-2.2
    input_source:              /data/collection/sgp/sgpecorE14.00/2018_0401_0...
    site_id:                   sgp
    platform_id:               30ecor
    ...                        ...
    qc_bit_3_description:      Value is greater than the valid_max.
    qc_bit_3_assessment:       Bad
    qc_bit_4_description:      Difference between current and previous values...
    qc_bit_4_assessment:       Indeterminate
    ingest_software:           ingest-ecor-13.4-0.el6
    history:                   created by user dsmgr on machine ruby at 2018-...</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-ac9378f8-820a-4659-b5f0-0375ef2d86da' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-ac9378f8-820a-4659-b5f0-0375ef2d86da' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 8780</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-c037f162-239b-492b-8dbd-d9e4740151c3' class='xr-section-summary-in' type='checkbox'  checked><label for='section-c037f162-239b-492b-8dbd-d9e4740151c3' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2018-04-01 ... 2018-09-30T23:30:00</div><input id='attrs-571bc8a6-9b5a-4f0d-8eba-308e6182e6eb' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-571bc8a6-9b5a-4f0d-8eba-308e6182e6eb' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-daca8313-5b61-4a21-afef-adb3508c9394' class='xr-var-data-in' type='checkbox'><label for='data-daca8313-5b61-4a21-afef-adb3508c9394' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Time offset from midnight</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2018-04-01T00:00:00.000000000&#x27;, &#x27;2018-04-01T00:30:00.000000000&#x27;,
       &#x27;2018-04-01T01:00:00.000000000&#x27;, ..., &#x27;2018-09-30T22:30:00.000000000&#x27;,
       &#x27;2018-09-30T23:00:00.000000000&#x27;, &#x27;2018-09-30T23:30:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-7bb5337f-f545-44ae-8c07-2eca2381b76f' class='xr-section-summary-in' type='checkbox'  checked><label for='section-7bb5337f-f545-44ae-8c07-2eca2381b76f' class='xr-section-summary' >Data variables: <span>(9)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>h</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;</div><input id='attrs-d0eb4521-b5a2-4999-b942-71d630b730d3' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d0eb4521-b5a2-4999-b942-71d630b730d3' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0debaf04-063c-471b-90fb-2f5d3bb536b7' class='xr-var-data-in' type='checkbox'><label for='data-0debaf04-063c-471b-90fb-2f5d3bb536b7' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Sensible heat flux</dd><dt><span>units :</span></dt><dd>W/m^2</dd><dt><span>valid_min :</span></dt><dd>-300.0</dd><dt><span>valid_max :</span></dt><dd>1500.0</dd><dt><span>resolution :</span></dt><dd>0.1</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 34.30 kiB </td>
                        <td> 192 B </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (8780,) </td>
                        <td> (48,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 185 chunks in 371 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float32 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="11" y1="0" x2="11" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="30" y1="0" x2="30" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="43" y1="0" x2="43" y2="25" />
  <line x1="49" y1="0" x2="49" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="62" y1="0" x2="62" y2="25" />
  <line x1="69" y1="0" x2="69" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="81" y1="0" x2="81" y2="25" />
  <line x1="87" y1="0" x2="87" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="100" y1="0" x2="100" y2="25" />
  <line x1="106" y1="0" x2="106" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >8780</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>lv</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;</div><input id='attrs-8df546fd-858c-41d6-af89-3d14646d2e3d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8df546fd-858c-41d6-af89-3d14646d2e3d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3a5136a8-75ea-48ca-8d61-dff5a7354ac3' class='xr-var-data-in' type='checkbox'><label for='data-3a5136a8-75ea-48ca-8d61-dff5a7354ac3' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Latent heat of vaporization</dd><dt><span>units :</span></dt><dd>J/kg</dd><dt><span>valid_min :</span></dt><dd>2380000.0</dd><dt><span>valid_max :</span></dt><dd>2600000.0</dd><dt><span>resolution :</span></dt><dd>10000.0</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 34.30 kiB </td>
                        <td> 192 B </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (8780,) </td>
                        <td> (48,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 185 chunks in 371 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float32 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="11" y1="0" x2="11" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="30" y1="0" x2="30" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="43" y1="0" x2="43" y2="25" />
  <line x1="49" y1="0" x2="49" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="62" y1="0" x2="62" y2="25" />
  <line x1="69" y1="0" x2="69" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="81" y1="0" x2="81" y2="25" />
  <line x1="87" y1="0" x2="87" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="100" y1="0" x2="100" y2="25" />
  <line x1="106" y1="0" x2="106" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >8780</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>fc</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;</div><input id='attrs-cf705124-6c97-4001-aa78-9376df453035' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-cf705124-6c97-4001-aa78-9376df453035' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-be0b1f15-0544-44f0-b0a7-0f3d3a5dca70' class='xr-var-data-in' type='checkbox'><label for='data-be0b1f15-0544-44f0-b0a7-0f3d3a5dca70' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>CO2 flux</dd><dt><span>units :</span></dt><dd>umol/(s m^2)</dd><dt><span>valid_min :</span></dt><dd>-50.0</dd><dt><span>valid_max :</span></dt><dd>35.0</dd><dt><span>resolution :</span></dt><dd>0.1</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 34.30 kiB </td>
                        <td> 192 B </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (8780,) </td>
                        <td> (48,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 185 chunks in 371 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float32 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="11" y1="0" x2="11" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="30" y1="0" x2="30" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="43" y1="0" x2="43" y2="25" />
  <line x1="49" y1="0" x2="49" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="62" y1="0" x2="62" y2="25" />
  <line x1="69" y1="0" x2="69" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="81" y1="0" x2="81" y2="25" />
  <line x1="87" y1="0" x2="87" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="100" y1="0" x2="100" y2="25" />
  <line x1="106" y1="0" x2="106" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >8780</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>wind_dir</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;</div><input id='attrs-acdec52e-5ad1-4ad7-9851-dc38d5250734' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-acdec52e-5ad1-4ad7-9851-dc38d5250734' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-73622327-7545-4165-8f93-073ad3dd682e' class='xr-var-data-in' type='checkbox'><label for='data-73622327-7545-4165-8f93-073ad3dd682e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Vector averaged wind direction</dd><dt><span>units :</span></dt><dd>degree</dd><dt><span>valid_min :</span></dt><dd>0.0</dd><dt><span>valid_max :</span></dt><dd>360.0</dd><dt><span>resolution :</span></dt><dd>1.0</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 34.30 kiB </td>
                        <td> 192 B </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (8780,) </td>
                        <td> (48,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 185 chunks in 371 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float32 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="11" y1="0" x2="11" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="30" y1="0" x2="30" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="43" y1="0" x2="43" y2="25" />
  <line x1="49" y1="0" x2="49" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="62" y1="0" x2="62" y2="25" />
  <line x1="69" y1="0" x2="69" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="81" y1="0" x2="81" y2="25" />
  <line x1="87" y1="0" x2="87" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="100" y1="0" x2="100" y2="25" />
  <line x1="106" y1="0" x2="106" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >8780</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>wind_spd</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;</div><input id='attrs-200fb1ce-29cc-4e09-ba27-27dbccb93931' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-200fb1ce-29cc-4e09-ba27-27dbccb93931' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-738b39eb-1a48-49de-b44e-fe45495ec460' class='xr-var-data-in' type='checkbox'><label for='data-738b39eb-1a48-49de-b44e-fe45495ec460' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Vector averaged wind speed</dd><dt><span>units :</span></dt><dd>m/s</dd><dt><span>valid_min :</span></dt><dd>0.0</dd><dt><span>valid_max :</span></dt><dd>42.0</dd><dt><span>resolution :</span></dt><dd>0.01</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 34.30 kiB </td>
                        <td> 192 B </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (8780,) </td>
                        <td> (48,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 185 chunks in 371 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float32 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="11" y1="0" x2="11" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="30" y1="0" x2="30" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="43" y1="0" x2="43" y2="25" />
  <line x1="49" y1="0" x2="49" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="62" y1="0" x2="62" y2="25" />
  <line x1="69" y1="0" x2="69" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="81" y1="0" x2="81" y2="25" />
  <line x1="87" y1="0" x2="87" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="100" y1="0" x2="100" y2="25" />
  <line x1="106" y1="0" x2="106" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >8780</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>lat</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>36.61 36.61 36.61 ... 36.61 36.61</div><input id='attrs-2731f264-60c9-44f1-8de8-a22ced81d6d0' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2731f264-60c9-44f1-8de8-a22ced81d6d0' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-146e3716-9509-4d33-a4c3-1df6d0fdd121' class='xr-var-data-in' type='checkbox'><label for='data-146e3716-9509-4d33-a4c3-1df6d0fdd121' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>North latitude</dd><dt><span>units :</span></dt><dd>degree_N</dd><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>valid_min :</span></dt><dd>-90.0</dd><dt><span>valid_max :</span></dt><dd>90.0</dd></dl></div><div class='xr-var-data'><pre>array([36.607, 36.607, 36.607, ..., 36.607, 36.607, 36.607], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>lon</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-97.49 -97.49 ... -97.49 -97.49</div><input id='attrs-4b92e85f-bfce-48f5-8c3e-cea762af648d' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-4b92e85f-bfce-48f5-8c3e-cea762af648d' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e3c76f02-42a3-46b4-bfb1-0dd47fdc630d' class='xr-var-data-in' type='checkbox'><label for='data-e3c76f02-42a3-46b4-bfb1-0dd47fdc630d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>East longitude</dd><dt><span>units :</span></dt><dd>degree_E</dd><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>valid_min :</span></dt><dd>-180.0</dd><dt><span>valid_max :</span></dt><dd>180.0</dd></dl></div><div class='xr-var-data'><pre>array([-97.488, -97.488, -97.488, ..., -97.488, -97.488, -97.488],
      dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>base_time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2018-04-01 ... 2018-09-30</div><input id='attrs-25672d4c-baec-45ca-9ba5-b36dd58f8872' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-25672d4c-baec-45ca-9ba5-b36dd58f8872' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7afd13fa-eca4-47f8-b670-5bfbfbe33bbb' class='xr-var-data-in' type='checkbox'><label for='data-7afd13fa-eca4-47f8-b670-5bfbfbe33bbb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>string :</span></dt><dd>2018-04-01 00:00:00 0:00</dd><dt><span>long_name :</span></dt><dd>Base time in Epoch</dd><dt><span>ancillary_variables :</span></dt><dd>time_offset</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2018-04-01T00:00:00.000000000&#x27;, &#x27;2018-04-01T00:00:00.000000000&#x27;,
       &#x27;2018-04-01T00:00:00.000000000&#x27;, ...,
       &#x27;2018-09-30T00:00:00.000000000&#x27;, &#x27;2018-09-30T00:00:00.000000000&#x27;,
       &#x27;2018-09-30T00:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>time_offset</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;</div><input id='attrs-bb4030d6-42f9-4de6-ad54-39025f4b8270' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-bb4030d6-42f9-4de6-ad54-39025f4b8270' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-52539acc-c301-4cb3-85aa-4f75dcea6daa' class='xr-var-data-in' type='checkbox'><label for='data-52539acc-c301-4cb3-85aa-4f75dcea6daa' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Time offset from base_time</dd><dt><span>ancillary_variables :</span></dt><dd>base_time</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 68.59 kiB </td>
                        <td> 384 B </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (8780,) </td>
                        <td> (48,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 185 chunks in 371 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> datetime64[ns] numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="11" y1="0" x2="11" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="30" y1="0" x2="30" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="43" y1="0" x2="43" y2="25" />
  <line x1="49" y1="0" x2="49" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="62" y1="0" x2="62" y2="25" />
  <line x1="69" y1="0" x2="69" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="81" y1="0" x2="81" y2="25" />
  <line x1="87" y1="0" x2="87" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="100" y1="0" x2="100" y2="25" />
  <line x1="106" y1="0" x2="106" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >8780</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-9e5f3b14-930d-475b-9830-1472073ddcfc' class='xr-section-summary-in' type='checkbox'  ><label for='section-9e5f3b14-930d-475b-9830-1472073ddcfc' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-76847658-638b-4228-9435-43e97c652b83' class='xr-index-data-in' type='checkbox'/><label for='index-76847658-638b-4228-9435-43e97c652b83' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2018-04-01 00:00:00&#x27;, &#x27;2018-04-01 00:30:00&#x27;,
               &#x27;2018-04-01 01:00:00&#x27;, &#x27;2018-04-01 01:30:00&#x27;,
               &#x27;2018-04-01 02:00:00&#x27;, &#x27;2018-04-01 02:30:00&#x27;,
               &#x27;2018-04-01 03:00:00&#x27;, &#x27;2018-04-01 03:30:00&#x27;,
               &#x27;2018-04-01 04:00:00&#x27;, &#x27;2018-04-01 04:30:00&#x27;,
               ...
               &#x27;2018-09-30 19:00:00&#x27;, &#x27;2018-09-30 19:30:00&#x27;,
               &#x27;2018-09-30 20:00:00&#x27;, &#x27;2018-09-30 20:30:00&#x27;,
               &#x27;2018-09-30 21:00:00&#x27;, &#x27;2018-09-30 21:30:00&#x27;,
               &#x27;2018-09-30 22:00:00&#x27;, &#x27;2018-09-30 22:30:00&#x27;,
               &#x27;2018-09-30 23:00:00&#x27;, &#x27;2018-09-30 23:30:00&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=8780, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-ed7c9e09-eb4b-4e9a-9820-8124f137a8d5' class='xr-section-summary-in' type='checkbox'  ><label for='section-ed7c9e09-eb4b-4e9a-9820-8124f137a8d5' class='xr-section-summary' >Attributes: <span>(40)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>command_line :</span></dt><dd>ecor_ingest -s sgp -f E14</dd><dt><span>process_version :</span></dt><dd>ingest-ecor-13.4-0.el6</dd><dt><span>dod_version :</span></dt><dd>30ecor-b1-2.2</dd><dt><span>input_source :</span></dt><dd>/data/collection/sgp/sgpecorE14.00/2018_0401_0000_14.flx</dd><dt><span>site_id :</span></dt><dd>sgp</dd><dt><span>platform_id :</span></dt><dd>30ecor</dd><dt><span>facility_id :</span></dt><dd>E14</dd><dt><span>data_level :</span></dt><dd>b1</dd><dt><span>location_description :</span></dt><dd>Southern Great Plains (SGP), Lamont, Oklahoma</dd><dt><span>datastream :</span></dt><dd>sgp30ecorE14.b1</dd><dt><span>serial_number :</span></dt><dd>See irga_serial_number and sonic_serial_number</dd><dt><span>sampling_interval :</span></dt><dd>0.1 second</dd><dt><span>averaging_interval :</span></dt><dd>30 seconds</dd><dt><span>resolution_description :</span></dt><dd>The resolution field attributes refer to the number of significant digits relative to the decimal point that should be used in calculations. Using fewer digits might result in greater uncertainty. Using a larger number of digits should have no effect and thus is unnecessary. However, analysis based on differences in values with a larger number of significant digits than indicated could lead to erroneous results or misleading scientific conclusions.

resolution for lat = 0.001
resolution for lon = 0.001
resolution for alt = 1</dd><dt><span>comment :</span></dt><dd>Sign conventions:  positive for upward vertical wind component and
upward atmospheric fluxes.  Standard ARM site arrangement is sonic sensor &quot;North&quot; mark
pointing along the boom to the tower; the boom is usually pointing due south; u wind component
is north-south with positive toward the north; v wind component is east-west with positive
toward the west.  NOTE:  no correction is made to convert u and v component into
meteorological &quot;north&quot; and &quot;east&quot; wind components when tower boom is not aligned to south;
u wind component is &quot;along boom&quot;, v wind component is &quot;cross boom&quot;.</dd><dt><span>sensor_height :</span></dt><dd>3 m AGL</dd><dt><span>instruments :</span></dt><dd>Anemometer: Gill Windmaster Pro; IRGA: LiCor LI-7500</dd><dt><span>irga_serial_number :</span></dt><dd>75H-1728</dd><dt><span>sonic_serial_number :</span></dt><dd>P000096</dd><dt><span>sonic_temperature_offset :</span></dt><dd>0.000000 K</dd><dt><span>sonic_temperature_slope :</span></dt><dd>1.220000 K</dd><dt><span>analog_min :</span></dt><dd>0.000000 V</dd><dt><span>analog_max :</span></dt><dd>5.000000 V</dd><dt><span>H2O_min :</span></dt><dd>0.000000</dd><dt><span>H2O_max :</span></dt><dd>2000.000000</dd><dt><span>CO2_min :</span></dt><dd>8.000000</dd><dt><span>CO2_max :</span></dt><dd>32.000000</dd><dt><span>irga_lag :</span></dt><dd>0.298000 s</dd><dt><span>boom_direction :</span></dt><dd>0.000000 deg</dd><dt><span>qc_bit_comment :</span></dt><dd>The QC field values are a bit packed representation of true/false values for the tests that may have been performed. A QC value of zero means that none of the tests performed on the value failed.</dd><dt><span>qc_bit_1_description :</span></dt><dd>Value is equal to missing_value.</dd><dt><span>qc_bit_1_assessment :</span></dt><dd>Bad</dd><dt><span>qc_bit_2_description :</span></dt><dd>Value is less than the valid_min.</dd><dt><span>qc_bit_2_assessment :</span></dt><dd>Bad</dd><dt><span>qc_bit_3_description :</span></dt><dd>Value is greater than the valid_max.</dd><dt><span>qc_bit_3_assessment :</span></dt><dd>Bad</dd><dt><span>qc_bit_4_description :</span></dt><dd>Difference between current and previous values exceeds valid_delta.</dd><dt><span>qc_bit_4_assessment :</span></dt><dd>Indeterminate</dd><dt><span>ingest_software :</span></dt><dd>ingest-ecor-13.4-0.el6</dd><dt><span>history :</span></dt><dd>created by user dsmgr on machine ruby at 2018-04-01 01:06:00, using ingest-ecor-13.4-0.el6</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:             (time: 8780)
Coordinates:
  * time                (time) datetime64[ns] 2018-04-01 ... 2018-09-30T23:30:00
Data variables:
    sensible_heat_flux  (time) float32 dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;
    latent_heat_flux    (time) float32 dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;
    lat                 (time) float32 36.61 36.61 36.61 ... 36.61 36.61 36.61
    lon                 (time) float32 -97.49 -97.49 -97.49 ... -97.49 -97.49
    base_time           (time) datetime64[ns] 2018-04-01 ... 2018-09-30
    time_offset         (time) datetime64[ns] dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;
Attributes: (12/21)
    Conventions:           CF-1.6
    title:                 Quality Controlled Eddy Correlation Flux Measureme...
    description1:          This VAP of surface latent and sensible heat flux\...
    description2:          Eddy correlation corrections applied: \nWebb-Pearm...
    description3:          LLNL added QC includes: \ndata range check, outlie...
    description4:          Additional QC is added on latent heat flux based o...
    ...                    ...
    authors:               Yunyan Zhang (zhang25@llnl.gov)
    qc_date:               Thu Jan 28 21:54:10 UTC 2016
    command_line:          idl -R -n qcecor -s sgp -f E14 -D -b 20030912 -e 2...
    input_datastreams:     sgp30ecorE14.b1 : 13.4 : 20180401.000000\nsgpsebsE...
    doi:                   10.5439/1097546
    history:               created by user dsmgr on machine ruby at 2019-10-0...</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-df71aefd-4fbc-451a-bf4f-c039e3bcaba0' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-df71aefd-4fbc-451a-bf4f-c039e3bcaba0' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 8780</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-d9bd24fa-372a-4a76-b205-ae1a9d6545fa' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d9bd24fa-372a-4a76-b205-ae1a9d6545fa' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2018-04-01 ... 2018-09-30T23:30:00</div><input id='attrs-9ae4ee30-0017-40b7-aba0-ff4699a86f5a' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-9ae4ee30-0017-40b7-aba0-ff4699a86f5a' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b7ae911f-4b55-43f3-8305-92d660c081c4' class='xr-var-data-in' type='checkbox'><label for='data-b7ae911f-4b55-43f3-8305-92d660c081c4' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Time offset from midnight</dd><dt><span>axis :</span></dt><dd>T</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2018-04-01T00:00:00.000000000&#x27;, &#x27;2018-04-01T00:30:00.000000000&#x27;,
       &#x27;2018-04-01T01:00:00.000000000&#x27;, ..., &#x27;2018-09-30T22:30:00.000000000&#x27;,
       &#x27;2018-09-30T23:00:00.000000000&#x27;, &#x27;2018-09-30T23:30:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-3df2eb34-4a5e-4efb-8c07-09206a92d158' class='xr-section-summary-in' type='checkbox'  checked><label for='section-3df2eb34-4a5e-4efb-8c07-09206a92d158' class='xr-section-summary' >Data variables: <span>(6)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>sensible_heat_flux</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;</div><input id='attrs-c7e2c6d4-c40f-4a54-acb1-c4ef0eb79caf' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c7e2c6d4-c40f-4a54-acb1-c4ef0eb79caf' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-305bd031-92ce-44d8-b566-1e4db82418f9' class='xr-var-data-in' type='checkbox'><label for='data-305bd031-92ce-44d8-b566-1e4db82418f9' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Sensible heat flux at surface</dd><dt><span>units :</span></dt><dd>W/m^2</dd><dt><span>standard_name :</span></dt><dd>surface_upward_sensible_heat_flux</dd><dt><span>positive :</span></dt><dd>up</dd><dt><span>valid_max :</span></dt><dd>1100.0</dd><dt><span>valid_min :</span></dt><dd>-300.0</dd><dt><span>ancillary_variables :</span></dt><dd>qc_sensible_heat_flux</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 34.30 kiB </td>
                        <td> 192 B </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (8780,) </td>
                        <td> (48,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 183 chunks in 367 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float32 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="31" y1="0" x2="31" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="43" y1="0" x2="43" y2="25" />
  <line x1="50" y1="0" x2="50" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="62" y1="0" x2="62" y2="25" />
  <line x1="68" y1="0" x2="68" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="81" y1="0" x2="81" y2="25" />
  <line x1="87" y1="0" x2="87" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="100" y1="0" x2="100" y2="25" />
  <line x1="106" y1="0" x2="106" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >8780</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>latent_heat_flux</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;</div><input id='attrs-da565a43-87e6-4dc4-bc93-d50c7879a110' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-da565a43-87e6-4dc4-bc93-d50c7879a110' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ec12452d-9806-4446-a9f9-b6b3b7648121' class='xr-var-data-in' type='checkbox'><label for='data-ec12452d-9806-4446-a9f9-b6b3b7648121' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Latent heat flux at surface</dd><dt><span>units :</span></dt><dd>W/m^2</dd><dt><span>standard_name :</span></dt><dd>surface_upward_latent_heat_flux</dd><dt><span>positive :</span></dt><dd>up</dd><dt><span>valid_max :</span></dt><dd>1100.0</dd><dt><span>valid_min :</span></dt><dd>-300.0</dd><dt><span>ancillary_variables :</span></dt><dd>qc_latent_heat_flux</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 34.30 kiB </td>
                        <td> 192 B </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (8780,) </td>
                        <td> (48,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 183 chunks in 367 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> float32 numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="31" y1="0" x2="31" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="43" y1="0" x2="43" y2="25" />
  <line x1="50" y1="0" x2="50" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="62" y1="0" x2="62" y2="25" />
  <line x1="68" y1="0" x2="68" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="81" y1="0" x2="81" y2="25" />
  <line x1="87" y1="0" x2="87" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="100" y1="0" x2="100" y2="25" />
  <line x1="106" y1="0" x2="106" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >8780</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li><li class='xr-var-item'><div class='xr-var-name'><span>lat</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>36.61 36.61 36.61 ... 36.61 36.61</div><input id='attrs-b36bb2ca-9582-4d17-94d3-329bd865b275' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b36bb2ca-9582-4d17-94d3-329bd865b275' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-84ace9cb-7f61-48a4-832a-9bfb185a5d8b' class='xr-var-data-in' type='checkbox'><label for='data-84ace9cb-7f61-48a4-832a-9bfb185a5d8b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>North latitude</dd><dt><span>units :</span></dt><dd>degree_N</dd><dt><span>standard_name :</span></dt><dd>latitude</dd><dt><span>valid_min :</span></dt><dd>-90.0</dd><dt><span>valid_max :</span></dt><dd>90.0</dd></dl></div><div class='xr-var-data'><pre>array([36.607, 36.607, 36.607, ..., 36.607, 36.607, 36.607], dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>lon</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>-97.49 -97.49 ... -97.49 -97.49</div><input id='attrs-04bbf27c-a31a-485e-819e-06650f241cd7' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-04bbf27c-a31a-485e-819e-06650f241cd7' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f2e4af78-2a30-4659-aa24-09f54cb9f32d' class='xr-var-data-in' type='checkbox'><label for='data-f2e4af78-2a30-4659-aa24-09f54cb9f32d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>East longitude</dd><dt><span>units :</span></dt><dd>degree_E</dd><dt><span>standard_name :</span></dt><dd>longitude</dd><dt><span>valid_min :</span></dt><dd>-180.0</dd><dt><span>valid_max :</span></dt><dd>180.0</dd></dl></div><div class='xr-var-data'><pre>array([-97.488, -97.488, -97.488, ..., -97.488, -97.488, -97.488],
      dtype=float32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>base_time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2018-04-01 ... 2018-09-30</div><input id='attrs-64af699b-3d6b-44d4-8fa5-6639696a284b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-64af699b-3d6b-44d4-8fa5-6639696a284b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3d54e69a-f08d-4f41-a62c-8cf03ec2cf52' class='xr-var-data-in' type='checkbox'><label for='data-3d54e69a-f08d-4f41-a62c-8cf03ec2cf52' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>string :</span></dt><dd>2018-04-01 00:00:00 0:00</dd><dt><span>long_name :</span></dt><dd>Base time in Epoch</dd><dt><span>ancillary_variables :</span></dt><dd>time_offset</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2018-04-01T00:00:00.000000000&#x27;, &#x27;2018-04-01T00:00:00.000000000&#x27;,
       &#x27;2018-04-01T00:00:00.000000000&#x27;, ...,
       &#x27;2018-09-30T00:00:00.000000000&#x27;, &#x27;2018-09-30T00:00:00.000000000&#x27;,
       &#x27;2018-09-30T00:00:00.000000000&#x27;], dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>time_offset</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>dask.array&lt;chunksize=(48,), meta=np.ndarray&gt;</div><input id='attrs-943c3153-8ff9-4cc5-883b-be5539c64264' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-943c3153-8ff9-4cc5-883b-be5539c64264' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6cebc456-e817-43fc-bf39-3503abc5e9b5' class='xr-var-data-in' type='checkbox'><label for='data-6cebc456-e817-43fc-bf39-3503abc5e9b5' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>Time offset from base_time</dd><dt><span>ancillary_variables :</span></dt><dd>base_time</dd></dl></div><div class='xr-var-data'><table>
    <tr>
        <td>
            <table style="border-collapse: collapse;">
                <thead>
                    <tr>
                        <td> </td>
                        <th> Array </th>
                        <th> Chunk </th>
                    </tr>
                </thead>
                <tbody>
                    
                    <tr>
                        <th> Bytes </th>
                        <td> 68.59 kiB </td>
                        <td> 384 B </td>
                    </tr>
                    
                    <tr>
                        <th> Shape </th>
                        <td> (8780,) </td>
                        <td> (48,) </td>
                    </tr>
                    <tr>
                        <th> Dask graph </th>
                        <td colspan="2"> 183 chunks in 367 graph layers </td>
                    </tr>
                    <tr>
                        <th> Data type </th>
                        <td colspan="2"> datetime64[ns] numpy.ndarray </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td>
        <svg width="170" height="75" style="stroke:rgb(0,0,0);stroke-width:1" >

  <!-- Horizontal lines -->
  <line x1="0" y1="0" x2="120" y2="0" style="stroke-width:2" />
  <line x1="0" y1="25" x2="120" y2="25" style="stroke-width:2" />

  <!-- Vertical lines -->
  <line x1="0" y1="0" x2="0" y2="25" style="stroke-width:2" />
  <line x1="5" y1="0" x2="5" y2="25" />
  <line x1="12" y1="0" x2="12" y2="25" />
  <line x1="18" y1="0" x2="18" y2="25" />
  <line x1="24" y1="0" x2="24" y2="25" />
  <line x1="31" y1="0" x2="31" y2="25" />
  <line x1="37" y1="0" x2="37" y2="25" />
  <line x1="43" y1="0" x2="43" y2="25" />
  <line x1="50" y1="0" x2="50" y2="25" />
  <line x1="56" y1="0" x2="56" y2="25" />
  <line x1="62" y1="0" x2="62" y2="25" />
  <line x1="68" y1="0" x2="68" y2="25" />
  <line x1="75" y1="0" x2="75" y2="25" />
  <line x1="81" y1="0" x2="81" y2="25" />
  <line x1="87" y1="0" x2="87" y2="25" />
  <line x1="94" y1="0" x2="94" y2="25" />
  <line x1="100" y1="0" x2="100" y2="25" />
  <line x1="106" y1="0" x2="106" y2="25" />
  <line x1="113" y1="0" x2="113" y2="25" />
  <line x1="120" y1="0" x2="120" y2="25" style="stroke-width:2" />

  <!-- Colored Rectangle -->
  <polygon points="0.0,0.0 120.0,0.0 120.0,25.412616514582485 0.0,25.412616514582485" style="fill:#8B4903A0;stroke-width:0"/>

  <!-- Text -->
  <text x="60.000000" y="45.412617" font-size="1.0rem" font-weight="100" text-anchor="middle" >8780</text>
  <text x="140.000000" y="12.706308" font-size="1.0rem" font-weight="100" text-anchor="middle" transform="rotate(0,140.000000,12.706308)">1</text>
</svg>
        </td>
    </tr>
</table></div></li></ul></div></li><li class='xr-section-item'><input id='section-aced3a41-4945-4cf4-8bc8-ed006ffc46c3' class='xr-section-summary-in' type='checkbox'  ><label for='section-aced3a41-4945-4cf4-8bc8-ed006ffc46c3' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-d0172fe5-77f3-4a9d-90f7-6ac85bdae341' class='xr-index-data-in' type='checkbox'/><label for='index-d0172fe5-77f3-4a9d-90f7-6ac85bdae341' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2018-04-01 00:00:00&#x27;, &#x27;2018-04-01 00:30:00&#x27;,
               &#x27;2018-04-01 01:00:00&#x27;, &#x27;2018-04-01 01:30:00&#x27;,
               &#x27;2018-04-01 02:00:00&#x27;, &#x27;2018-04-01 02:30:00&#x27;,
               &#x27;2018-04-01 03:00:00&#x27;, &#x27;2018-04-01 03:30:00&#x27;,
               &#x27;2018-04-01 04:00:00&#x27;, &#x27;2018-04-01 04:30:00&#x27;,
               ...
               &#x27;2018-09-30 19:00:00&#x27;, &#x27;2018-09-30 19:30:00&#x27;,
               &#x27;2018-09-30 20:00:00&#x27;, &#x27;2018-09-30 20:30:00&#x27;,
               &#x27;2018-09-30 21:00:00&#x27;, &#x27;2018-09-30 21:30:00&#x27;,
               &#x27;2018-09-30 22:00:00&#x27;, &#x27;2018-09-30 22:30:00&#x27;,
               &#x27;2018-09-30 23:00:00&#x27;, &#x27;2018-09-30 23:30:00&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=8780, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-0073262d-566d-41f1-b4bb-a86c89a34c7f' class='xr-section-summary-in' type='checkbox'  ><label for='section-0073262d-566d-41f1-b4bb-a86c89a34c7f' class='xr-section-summary' >Attributes: <span>(21)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>Conventions :</span></dt><dd>CF-1.6</dd><dt><span>title :</span></dt><dd>Quality Controlled Eddy Correlation Flux Measurement (QCECOR) for surface sensible and latent fluxes</dd><dt><span>description1 :</span></dt><dd>This VAP of surface latent and sensible heat flux
is generated based on original ECOR data
by Yunyan Zhang and Shaocheng Xie (LLNL)
with help from ARM ECOR instrument mentor David R. Cook (ANL).</dd><dt><span>description2 :</span></dt><dd>Eddy correlation corrections applied: 
Webb-Pearman correction, frequency correction,
sensor separation correction, stability corrections, filtering correction,
and line-averaging and volume-averaging corrections.
For data after the installation of Surface Energy Balance System (SEBS) (Jan. 2011),
the SEBS wetness data are used to constrain heat fluxes when processing.
Sonic anemometer height is set to be 3 meters,
except for SGP.E21 where it is set to be 4 meters.</dd><dt><span>description3 :</span></dt><dd>LLNL added QC includes: 
data range check, outlier check, standard deviation check, 
and temporal variability check
Value is set to missing if it fails LLNL QC, qc flag value is set to 2</dd><dt><span>description4 :</span></dt><dd>Additional QC is added on latent heat flux based on SEBS wetness data which become available after Oct. 2010. 
If SEBS wetness &lt; 2, then latent heat flux qc flag is set to 1.
However the value of latent heat flux is kept and NOT set to missing.
This is because SEBS wetness &lt; 2 happens so frequently during night, for users&#x27; benefit or interest
on diurnal cycle data, the value is kept. Please USE with CAUTION!</dd><dt><span>institution :</span></dt><dd>United States Department of Energy - Atmospheric Radiation Measurement (ARM) program</dd><dt><span>process_version :</span></dt><dd>vap-qcecor-1.2-0.el6</dd><dt><span>dod_version :</span></dt><dd>30qcecor-s1-1.1</dd><dt><span>datastream :</span></dt><dd>sgp30qcecorE14.s1</dd><dt><span>platform_id :</span></dt><dd>30qcecor</dd><dt><span>data_level :</span></dt><dd>s1</dd><dt><span>site_id :</span></dt><dd>sgp</dd><dt><span>facility_id :</span></dt><dd>E14</dd><dt><span>location_description :</span></dt><dd>Southern Great Plains (SGP), Lamont, Oklahoma</dd><dt><span>authors :</span></dt><dd>Yunyan Zhang (zhang25@llnl.gov)</dd><dt><span>qc_date :</span></dt><dd>Thu Jan 28 21:54:10 UTC 2016</dd><dt><span>command_line :</span></dt><dd>idl -R -n qcecor -s sgp -f E14 -D -b 20030912 -e 20191008</dd><dt><span>input_datastreams :</span></dt><dd>sgp30ecorE14.b1 : 13.4 : 20180401.000000
sgpsebsE14.b1 : 1.5 : 20180401.000000</dd><dt><span>doi :</span></dt><dd>10.5439/1097546</dd><dt><span>history :</span></dt><dd>created by user dsmgr on machine ruby at 2019-10-08 14:25:55, using vap-qcecor-1.2-0.el6</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Get variables in the proper format</span>
<span class="n">ds</span><span class="p">[</span><span class="s1">&#39;wind_dir&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds_ecor</span><span class="p">[</span><span class="s1">&#39;wind_dir&#39;</span><span class="p">]</span>
<span class="n">ds</span><span class="p">[</span><span class="s1">&#39;wind_spd&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds_ecor</span><span class="p">[</span><span class="s1">&#39;wind_spd&#39;</span><span class="p">]</span>
<span class="n">ds</span><span class="p">[</span><span class="s1">&#39;co2_flux&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ds_ecor</span><span class="p">[</span><span class="s1">&#39;fc&#39;</span><span class="p">]</span>
<span class="n">wdir</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="s1">&#39;wind_dir&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="group-the-data-and-quick-plots">
<h1>Group the Data and Quick Plots<a class="headerlink" href="#group-the-data-and-quick-plots" title="Permalink to this headline"><i class="fas fa-link"></i></a></h1>
<p>With the ECOR measurements being taken every 30 minutes, having large time ranges will make the plots hard to read.  Fortunately, we can use the “groupby” function to group the data into different time intervals and average the values before plotting everything.  This will make the plots easier to read.  For smaller datasets (as in around a week or less), however, you may still want to plot the ungrouped data.</p>
<p>NOTE: The “hour” grouby will take the data from each hour of a given day and group it with its corresponding hour of all the other days and take the overall average (for example, the data from hour 1 of a given day will be grouped with the data with all other hour 1s in the dataset, and then the overall average is taken).  This will result in a plot of up to 24 hours where each hour represents the average of all the data for that hour for each day, rather than each individual hourly average being plotted.  The “dayofyear” and “week” groupbys work similarly except they result in a plot of up to 365 days or up to 52 weeks, respectively, rather than a 24-hour plot.  The “dayofweek” groupby will result in a plot of up to 7 days.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Determine whether or not you want to group the data</span>
<span class="n">answer</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Would you like to group the data by a time</span><span class="se">\n</span><span class="s1">&#39;</span>
               <span class="s1">&#39;interval (Recommended for datasets &gt; 7 days)? (y/n): &#39;</span><span class="p">)</span>
<span class="c1">#If yes, determine what time interval you would like</span>
<span class="k">if</span> <span class="n">answer</span> <span class="o">==</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span>    
    <span class="n">interval</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;For plots of hourly averages, enter &quot;hour&quot;</span><span class="se">\n</span><span class="s1">&#39;</span>
                    <span class="s1">&#39;For plots of daily averages, enter &quot;dayofyear&quot; or &quot;dayofweek&quot;</span><span class="se">\n</span><span class="s1">&#39;</span>
                    <span class="s1">&#39;For weekly averages, enter &quot;week&quot;</span><span class="se">\n</span><span class="s1">&#39;</span>
                    <span class="s1">&#39;Enter your time interval here: &#39;</span><span class="p">)</span>
    <span class="n">ds_ecor_gb</span> <span class="o">=</span> <span class="n">ds_ecor</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;time.</span><span class="si">{</span><span class="n">interval</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
    <span class="n">ds_gb</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;time.</span><span class="si">{</span><span class="n">interval</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">ds_gb</span><span class="o">.</span><span class="n">sensible_heat_flux</span>
    <span class="n">lv</span> <span class="o">=</span> <span class="n">ds_gb</span><span class="o">.</span><span class="n">latent_heat_flux</span>
    <span class="n">fc</span> <span class="o">=</span> <span class="n">ds_ecor_gb</span><span class="o">.</span><span class="n">fc</span>
    <span class="n">wspd</span> <span class="o">=</span> <span class="n">ds_gb</span><span class="o">.</span><span class="n">wind_spd</span>
<span class="c1">#If no, the data will be left as is</span>
<span class="k">elif</span> <span class="n">answer</span> <span class="o">==</span> <span class="s1">&#39;n&#39;</span><span class="p">:</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">sensible_heat_flux</span>
    <span class="n">lv</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">latent_heat_flux</span>
    <span class="n">fc</span> <span class="o">=</span> <span class="n">ds_ecor</span><span class="o">.</span><span class="n">fc</span>
    <span class="n">wspd</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">wind_spd</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Would you like to group the data by a time
interval (Recommended for datasets &gt; 7 days)? (y/n): y
For plots of hourly averages, enter &quot;hour&quot;
For plots of daily averages, enter &quot;dayofyear&quot; or &quot;dayofweek&quot;
For weekly averages, enter &quot;week&quot;
Enter your time interval here: dayofyear
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We can use xarray funcationality to quickly plot up the data</span>
<span class="n">h</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;sensible_</span><span class="si">{</span><span class="n">date1</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">date2</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/4e6fefc74ef8802932501630c5fac8c03fea9f92ca6bf40ce01c12890a7fe162.png" src="../_images/4e6fefc74ef8802932501630c5fac8c03fea9f92ca6bf40ce01c12890a7fe162.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lv</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;latent_</span><span class="si">{</span><span class="n">date1</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">date2</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/181285583a0c73c246d26d17440a1b940ab1409dad548b1a275df0f7e57e6750.png" src="../_images/181285583a0c73c246d26d17440a1b940ab1409dad548b1a275df0f7e57e6750.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fc</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;co2_</span><span class="si">{</span><span class="n">date1</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">date2</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/42478d21f662e14e1edc6ef17cc123da4de47689ab3c564b7725dce4f341abac.png" src="../_images/42478d21f662e14e1edc6ef17cc123da4de47689ab3c564b7725dce4f341abac.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let&#39;s just make sure the wind data looks good as well</span>
<span class="n">wspd</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;wspd_</span><span class="si">{</span><span class="n">date1</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">date2</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/90d260366fede09adca65493feebdaf7252785f9ff8921c6e8361cafc4a062f7.png" src="../_images/90d260366fede09adca65493feebdaf7252785f9ff8921c6e8361cafc4a062f7.png" />
</div>
</div>
<div class="section" id="quality-control-of-ecor-data">
<h2>Quality Control of ECOR Data<a class="headerlink" href="#quality-control-of-ecor-data" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>If you read through the ECOR instrument handbook, you may have noticed that at some sites, there is not sufficient fetch for the measurements and the data are suspect.  We need to be able to apply those limits to the data as well as filter the data based on the qc variables that are included in the file.  Additionally, ARM instrument experts (Mentors) routinely write data quality reports (DQR) on the data if there are problems.  This section will look at how to use all this information to QC the data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># First, let&#39;s build a function that has the &quot;Good&quot; fetch directions defined</span>
<span class="k">def</span> <span class="nf">get_arm_fetch</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">fac</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd"> </span>
<span class="sd"> Each SGP ECOR site has specific directions where the fetch is good</span>
<span class="sd">    These ranges list are of good fetch directions</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ranges</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">if</span> <span class="n">site</span> <span class="o">==</span> <span class="s1">&#39;sgp&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E1&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">53</span><span class="p">],</span> <span class="p">[</span><span class="mi">120</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E2&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">71</span><span class="p">,</span> <span class="mi">137</span><span class="p">],</span> <span class="p">[</span><span class="mi">223</span><span class="p">,</span> <span class="mi">289</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E3&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">48</span><span class="p">],</span> <span class="p">[</span><span class="mi">132</span><span class="p">,</span> <span class="mi">260</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E4&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">158</span><span class="p">],</span> <span class="p">[</span><span class="mi">202</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E5&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">80</span><span class="p">,</span> <span class="mi">154</span><span class="p">],</span> <span class="p">[</span><span class="mi">154</span><span class="p">,</span> <span class="mi">260</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E6&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E7&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">244</span><span class="p">],</span> <span class="p">[</span><span class="mi">296</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E8&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">224</span><span class="p">],</span> <span class="p">[</span><span class="mi">314</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E9&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E10&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E11&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E12&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E13&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">52</span><span class="p">],</span> <span class="p">[</span><span class="mi">142</span><span class="p">,</span> <span class="mi">194</span><span class="p">],</span> <span class="p">[</span><span class="mi">328</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E14&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">129</span><span class="p">,</span> <span class="mi">265</span><span class="p">],</span> <span class="p">[</span><span class="mi">352</span><span class="p">,</span> <span class="mi">360</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">85</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E15&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">133</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E16&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">134</span><span class="p">,</span> <span class="mi">269</span><span class="p">],</span> <span class="p">[</span><span class="mi">334</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E18&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">138</span><span class="p">,</span> <span class="mi">325</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E19&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">133</span><span class="p">],</span> <span class="p">[</span><span class="mi">151</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E20&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">230</span><span class="p">],</span> <span class="p">[</span><span class="mi">310</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E21&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E22&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">49</span><span class="p">],</span> <span class="p">[</span><span class="mi">139</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E24&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">80</span><span class="p">,</span> <span class="mi">280</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E25&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E26&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">33</span><span class="p">],</span> <span class="p">[</span><span class="mi">243</span><span class="p">,</span> <span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E27&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">20</span><span class="p">,</span><span class="mi">156</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E31&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">],</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">80</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E32&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E33&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">80</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E34&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E35&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E36&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E37&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">135</span><span class="p">,</span> <span class="mi">260</span><span class="p">],</span> <span class="p">[</span><span class="mi">280</span><span class="p">,</span> <span class="mi">310</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E38&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">150</span><span class="p">,</span> <span class="mi">260</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E39&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">260</span><span class="p">],</span> <span class="p">[</span><span class="mi">280</span><span class="p">,</span> <span class="mi">360</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E40&#39;</span><span class="p">:</span>  <span class="c1"># EBBR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">360</span><span class="p">]]</span>
        <span class="k">if</span> <span class="n">fac</span> <span class="o">==</span> <span class="s1">&#39;E41&#39;</span><span class="p">:</span>  <span class="c1">#ECOR</span>
            <span class="n">ranges</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">260</span><span class="p">],</span> <span class="p">[</span><span class="mi">280</span><span class="p">,</span> <span class="mi">360</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">]]</span>

    <span class="k">return</span> <span class="n">ranges</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="crop-type-information">
<h2>Crop Type Information<a class="headerlink" href="#crop-type-information" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<p>ACT has a function to access crop type data from the <a class="reference external" href="https://nassgeodata.gmu.edu/CropScape">USDA Cropscape</a> portal.  This is somewhat of an odd feature to have in ACT, but surface type information is very important to surface meteorological measurements.  For the given location, we will get crop data in 45-degree intervals for each year, and then group all the data into these intervals (or bins) based on wind direction.  This will allow us to match a crop type to each data point.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">urllib3</span><span class="o">.</span><span class="n">disable_warnings</span><span class="p">()</span>
<span class="c1"># Set a dummy wind direction variable</span>
<span class="n">c_dir</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">361</span><span class="p">,</span> <span class="mi">45</span><span class="p">)</span>
<span class="n">lat</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">lon</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="s1">&#39;lon&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">time</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># We will need the year for getting the crop type</span>
<span class="n">year</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;datetime64[Y]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1970</span>
<span class="n">unique_year</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">year</span><span class="p">)</span>
<span class="c1"># Create a dictionary to house all the crop information</span>
<span class="n">crops</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">crop_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">yr</span> <span class="ow">in</span> <span class="n">unique_year</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span> <span class="ow">and</span> <span class="n">yr</span> <span class="o">==</span> <span class="mi">2016</span> <span class="ow">or</span> <span class="n">n</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span> <span class="ow">and</span> <span class="n">yr</span> <span class="o">==</span> <span class="mi">2017</span> <span class="ow">or</span> <span class="n">n</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span> <span class="ow">and</span> <span class="n">yr</span> <span class="o">==</span> <span class="mi">2018</span> <span class="ow">or</span> <span class="n">n</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span> <span class="ow">and</span> <span class="n">yr</span> <span class="o">==</span> <span class="mi">2019</span><span class="p">:</span>
        <span class="n">crop</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">c_dir</span><span class="p">):</span>
            <span class="n">lat2</span><span class="p">,</span> <span class="n">lon2</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">geo_utils</span><span class="o">.</span><span class="n">destination_azimuth_distance</span><span class="p">(</span><span class="n">lat</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">lon</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">d</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">discovery</span><span class="o">.</span><span class="n">get_cropscape</span><span class="o">.</span><span class="n">croptype</span><span class="p">(</span><span class="n">lat2</span><span class="p">,</span> <span class="n">lon2</span><span class="p">,</span> <span class="n">yr</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;Winter Wheat&#39;</span><span class="p">:</span>
                <span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;Alfalfa&#39;</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;Oats&#39;</span><span class="p">:</span>
                <span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;Alfalfa&#39;</span>
            <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;Canola&#39;</span><span class="p">:</span>
                <span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;Alfalfa&#39;</span>
            <span class="n">crop</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
            <span class="n">crops</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">crop</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">crop</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">c_dir</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">crop</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">crop</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">crop</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">crop_dict</span><span class="p">[</span><span class="n">yr</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;c_dir&#39;</span><span class="p">:</span> <span class="n">c_dir</span><span class="p">,</span> <span class="s1">&#39;crop_type&#39;</span><span class="p">:</span> <span class="n">crop</span><span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">crop</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">c_dir</span><span class="p">):</span>
            <span class="n">lat2</span><span class="p">,</span> <span class="n">lon2</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">geo_utils</span><span class="o">.</span><span class="n">destination_azimuth_distance</span><span class="p">(</span><span class="n">lat</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">lon</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">d</span><span class="p">,</span> <span class="mf">50.</span><span class="p">)</span>
            <span class="n">crop</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">act</span><span class="o">.</span><span class="n">discovery</span><span class="o">.</span><span class="n">get_cropscape</span><span class="o">.</span><span class="n">croptype</span><span class="p">(</span><span class="n">lat2</span><span class="p">,</span> <span class="n">lon2</span><span class="p">,</span> <span class="n">yr</span><span class="p">))</span>
            <span class="n">crops</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">crop</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">crop</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">c_dir</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">crop</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">crop</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">crop</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">crop_dict</span><span class="p">[</span><span class="n">yr</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;c_dir&#39;</span><span class="p">:</span> <span class="n">c_dir</span><span class="p">,</span> <span class="s1">&#39;crop_type&#39;</span><span class="p">:</span> <span class="n">crop</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Alfalfa 0
Grass/Pasture 45
Grass/Pasture 90
Grass/Pasture 135
Alfalfa 180
Alfalfa 225
Alfalfa 270
Alfalfa 315
Alfalfa 360
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set bins and get data.  We want the crop types pulled earlier</span>
<span class="c1"># to be at the center of the bin so since we set the bins to 45º</span>
<span class="c1"># earlier, we want to shift them by half.  In doing this, we also</span>
<span class="c1"># have to add 0 back to the array so it properly bins for 0-22.5</span>
<span class="n">bins</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">c_dir</span> <span class="o">+</span> <span class="mf">22.5</span><span class="p">)</span>
<span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">bins</span><span class="p">)</span>


<span class="c1"># Get the data grouped by year as the crop type may</span>
<span class="c1"># change each yet</span>
<span class="n">ds_year</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;time.year&#39;</span><span class="p">)</span>
<span class="c1"># Get good fetch ranges for this site</span>
<span class="n">site</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;site_id&#39;</span><span class="p">]</span>
<span class="n">fac</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;facility_id&#39;</span><span class="p">]</span>
<span class="n">ranges</span> <span class="o">=</span> <span class="n">get_arm_fetch</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">fac</span><span class="p">)</span>
<span class="n">qc_ind</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">ranges</span><span class="p">:</span>
    <span class="n">qc_ind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">qc_ind</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">wdir</span> <span class="o">&gt;=</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">wdir</span> <span class="o">&lt;=</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]))[</span><span class="mi">0</span><span class="p">]))</span>

<span class="c1"># Set the QC variable for the wind direction.</span>
<span class="n">qc_crop</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">wdir</span><span class="p">))</span>
<span class="n">qc_crop</span><span class="p">[</span><span class="n">qc_ind</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="c1"># Create an empty variable for the crop information</span>
<span class="n">crop_type</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">wdir</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>

<span class="c1"># For each year, group the data by bins from earlier.</span>
<span class="k">for</span> <span class="n">yr</span> <span class="ow">in</span> <span class="n">ds_year</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="n">ds_wind</span> <span class="o">=</span> <span class="n">ds_year</span><span class="p">[</span><span class="n">yr</span><span class="p">]</span><span class="o">.</span><span class="n">groupby_bins</span><span class="p">(</span><span class="s1">&#39;wind_dir&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">bins</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">include_lowest</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    <span class="c1"># For each bin, set the crop type for all the corresponding data points</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bins</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)):</span>
        <span class="c1"># We can get the indices of the data in the group easily</span>
        <span class="n">ind</span> <span class="o">=</span> <span class="n">ds_wind</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="n">b</span><span class="p">]</span>
        <span class="n">crop_type</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="n">crop_dict</span><span class="p">[</span><span class="n">yr</span><span class="p">][</span><span class="s1">&#39;crop_type&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
        
<span class="c1"># Add crop type and QC flag to existing object</span>
<span class="n">atts</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;long_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Crop type information based on wind direction as taken from CropScape&#39;</span><span class="p">,</span>
            <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;unitless&#39;</span><span class="p">}</span>
<span class="n">da</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">crop_type</span><span class="p">,</span> <span class="n">dims</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;wind_dir&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dims</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;crop_type&#39;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="n">atts</span><span class="p">)</span>
<span class="n">ds</span><span class="p">[</span><span class="s1">&#39;crop_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">da</span>
<span class="n">ds</span><span class="o">.</span><span class="n">qcfilter</span><span class="o">.</span><span class="n">create_qc_variable</span><span class="p">(</span><span class="s1">&#39;crop_type&#39;</span><span class="p">,</span><span class="n">flag_type</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ds</span><span class="p">[</span><span class="s1">&#39;qc_crop_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span> <span class="o">=</span> <span class="n">qc_crop</span>
<span class="n">ds</span><span class="p">[</span><span class="s1">&#39;qc_crop_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;flag_values&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">ds</span><span class="p">[</span><span class="s1">&#39;qc_crop_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;flag_meanings&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Sufficient Fetch&#39;</span><span class="p">,</span><span class="s1">&#39;Insufficient Fetch&#39;</span><span class="p">]</span>
<span class="n">ds</span><span class="p">[</span><span class="s1">&#39;qc_crop_type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;flag_assessments&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Good&#39;</span><span class="p">,</span><span class="s1">&#39;Suspect&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="what-crops-are-we-working-with">
<h3>What crops are we working with?<a class="headerlink" href="#what-crops-are-we-working-with" title="Permalink to this headline"><i class="fas fa-link"></i></a></h3>
<p>Rather than trying to figure out each unique crop by looking at every single data point, we can create a list that lists each crop only once.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Create a list that includes all the crops with at least two data points and does not include &quot;None&quot;</span>
<span class="n">crops_all</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">crops</span><span class="p">)):</span>
    <span class="k">if</span> <span class="n">crops</span><span class="p">[</span><span class="n">f</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">crop_type</span> <span class="o">==</span> <span class="n">ds</span><span class="o">.</span><span class="n">crop_type</span><span class="p">[</span><span class="n">f</span><span class="p">])[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">crops_all</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">crops</span><span class="p">[</span><span class="n">f</span><span class="p">])</span>
<span class="c1">#Now use the list created above to create a unique crop list</span>
<span class="n">crop_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">crops_all</span><span class="p">)</span>
<span class="n">crop_list</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&#39;Alfalfa&#39;, &#39;Grass/Pasture&#39;], dtype=&#39;&lt;U13&#39;)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="putting-it-all-together">
<h3>Putting it All Together<a class="headerlink" href="#putting-it-all-together" title="Permalink to this headline"><i class="fas fa-link"></i></a></h3>
<p>We have the ECOR data, we have the crop data, now let’s look at the results!  Here we have it so that the code will cycle through the crop list we created earlier and generate a series of graphs for each crop type.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Histograms of overall data</span>
<span class="n">hist</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">HistogramDisplay</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="n">hist</span><span class="o">.</span><span class="n">plot_stairstep_graph</span><span class="p">(</span><span class="s1">&#39;sensible_heat_flux&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;histogram_h_</span><span class="si">{</span><span class="n">date1</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">date2</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/90af9005d10f12c0d215c23d136e9c279f24862d5f8cdfeb16130f241c447dc0.png" src="../_images/90af9005d10f12c0d215c23d136e9c279f24862d5f8cdfeb16130f241c447dc0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hist</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">HistogramDisplay</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="n">hist</span><span class="o">.</span><span class="n">plot_stairstep_graph</span><span class="p">(</span><span class="s1">&#39;latent_heat_flux&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;histogram_lv_</span><span class="si">{</span><span class="n">date1</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">date2</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/64f844dd7ee865893943aa90a89491856b550196d2298b05fd7f314407a9c17a.png" src="../_images/64f844dd7ee865893943aa90a89491856b550196d2298b05fd7f314407a9c17a.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">hist</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">HistogramDisplay</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="n">hist</span><span class="o">.</span><span class="n">plot_stairstep_graph</span><span class="p">(</span><span class="s1">&#39;co2_flux&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;histogram_fc_</span><span class="si">{</span><span class="n">date1</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">date2</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/c8b2770efeb5319f9859cb131733e15fa41ec0cfee0c85828193ad19a0a1a1a8.png" src="../_images/c8b2770efeb5319f9859cb131733e15fa41ec0cfee0c85828193ad19a0a1a1a8.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Histograms based on crop type</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">crop_list</span><span class="p">)):</span>  
    <span class="n">ds3</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">crop_type</span> <span class="o">==</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">crop_list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">hist</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">HistogramDisplay</span><span class="p">({</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">crop_list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">:</span> <span class="n">ds3</span><span class="p">},</span> <span class="n">subplot_shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">hist</span><span class="o">.</span><span class="n">plot_stairstep_graph</span><span class="p">(</span><span class="s1">&#39;sensible_heat_flux&#39;</span><span class="p">,</span> <span class="n">dsname</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">crop_list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">subplot_index</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">crop_list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">hist</span><span class="o">.</span><span class="n">plot_stairstep_graph</span><span class="p">(</span><span class="s1">&#39;latent_heat_flux&#39;</span><span class="p">,</span> <span class="n">dsname</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">crop_list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">subplot_index</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">crop_list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">hist</span><span class="o">.</span><span class="n">plot_stairstep_graph</span><span class="p">(</span><span class="s1">&#39;co2_flux&#39;</span><span class="p">,</span> <span class="n">dsname</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">crop_list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">subplot_index</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">crop_list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;histograms_</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">date1</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">date2</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/89b3b69b1ed969018dda886d044cadef066b674bcbeea6690a70a4f1ed0bc0d1.png" src="../_images/89b3b69b1ed969018dda886d044cadef066b674bcbeea6690a70a4f1ed0bc0d1.png" />
<img alt="../_images/138124b4bd76c839e59c0f8890fa99b866f72d317781ac2753c640ad96bf58a0.png" src="../_images/138124b4bd76c839e59c0f8890fa99b866f72d317781ac2753c640ad96bf58a0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Wind rose plots</span>
<span class="c1">#Pay attention to the directions listed for each crop type earlier.  </span>
<span class="c1">#This will tell you which part of the roses you should be paying attention to for each crop type.</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">crop_list</span><span class="p">)):</span>
    <span class="n">ds3</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">crop_type</span> <span class="o">==</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">crop_list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">display</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">WindRoseDisplay</span><span class="p">({</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">crop_list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">:</span> <span class="n">ds3</span><span class="p">},</span>
                                           <span class="n">subplot_shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">display</span><span class="o">.</span><span class="n">plot_data</span><span class="p">(</span><span class="s1">&#39;wind_dir&#39;</span><span class="p">,</span> <span class="s1">&#39;wind_spd&#39;</span><span class="p">,</span> <span class="s1">&#39;sensible_heat_flux&#39;</span><span class="p">,</span> <span class="n">num_dirs</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">plot_type</span><span class="o">=</span><span class="s1">&#39;contour&#39;</span><span class="p">,</span> 
                      <span class="n">dsname</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">crop_list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">subplot_index</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">contour_type</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mi">20</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">display</span><span class="o">.</span><span class="n">plot_data</span><span class="p">(</span><span class="s1">&#39;wind_dir&#39;</span><span class="p">,</span> <span class="s1">&#39;wind_spd&#39;</span><span class="p">,</span> <span class="s1">&#39;latent_heat_flux&#39;</span><span class="p">,</span> <span class="n">num_dirs</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">plot_type</span><span class="o">=</span><span class="s1">&#39;contour&#39;</span><span class="p">,</span> 
                      <span class="n">dsname</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">crop_list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">subplot_index</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">contour_type</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mi">75</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">display</span><span class="o">.</span><span class="n">plot_data</span><span class="p">(</span><span class="s1">&#39;wind_dir&#39;</span><span class="p">,</span> <span class="s1">&#39;wind_spd&#39;</span><span class="p">,</span> <span class="s1">&#39;co2_flux&#39;</span><span class="p">,</span> <span class="n">num_dirs</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">plot_type</span><span class="o">=</span><span class="s1">&#39;contour&#39;</span><span class="p">,</span> 
                      <span class="n">dsname</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">crop_list</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">subplot_index</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">contour_type</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mi">10</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">figure</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Windroseplots_</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">date1</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">date2</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/9e2389c418511906db4bc9b72a22f4cb859160d657cf57ff5408e358e2ea1ecd.png" src="../_images/9e2389c418511906db4bc9b72a22f4cb859160d657cf57ff5408e358e2ea1ecd.png" />
<img alt="../_images/e1eac677159fc6797066cc913cbde6a00a721bd6bbb80157f9d9f881fdc26f64.png" src="../_images/e1eac677159fc6797066cc913cbde6a00a721bd6bbb80157f9d9f881fdc26f64.png" />
</div>
</div>
</div>
</div>
<div class="section" id="resources-and-references">
<h2>Resources and references<a class="headerlink" href="#resources-and-references" title="Permalink to this headline"><i class="fas fa-link"></i></a></h2>
<div class="section" id="datasets-used-in-this-example">
<h3>Datasets used in this example<a class="headerlink" href="#datasets-used-in-this-example" title="Permalink to this headline"><i class="fas fa-link"></i></a></h3>
<p>Xie, S. Quality Controlled Eddy Correlation Flux Measurement (30QCECOR). Atmospheric Radiation Measurement (ARM) User Facility. https://doi.org/10.5439/1097546</p>
<p>Sullivan, R., Billesbach, D., Keeler, E., &amp; Ermold, B. Eddy Correlation Flux Measurement System (30ECOR). Atmospheric Radiation Measurement (ARM) User Facility. https://doi.org/10.5439/1025039</p>
</div>
<div class="section" id="cropscape-citations">
<h3>Cropscape Citations<a class="headerlink" href="#cropscape-citations" title="Permalink to this headline"><i class="fas fa-link"></i></a></h3>
<p>Han, W., Yang, Z., Di, L., Yue, P., 2014. A geospatial Web service approach for creating on-demand Cropland Data Layer thematic maps. Transactions of the ASABE, 57(1), 239-247.</p>
<p>Han, W., Yang, Z., Di, L., Yagci, A., Han, S., 2014. Making Cropland Data Layer data accessible and actionable in GIS education. Journal of Geography, 113(3), 129-138.</p>
<p>Han, W., Yang, Z., Di, L., Mueller, R., 2012. CropScape: A Web service based application for exploring and disseminating US conterminous geospatial cropland data products for decision support. Computers and Electronics in Agriculture, 84, 111–123.</p>
<p>Boryan, C., Yang, Z., Willis, P., 2014. US geospatial crop frequency data layers. Third International Conference on Agro-geoinformatics (Agro-geoinformatics 2014), August 11-14, 2014, Beijing, China.</p>
<p>Boryan, C., Yang, Z., Mueller, R., Craig, M., 2011. Monitoring US agriculture: the US Department of Agriculture, National Agricultural Statistics Service, Cropland Data Layer Program. Geocarto International, 26(5), 341–358.</p>
</div>
<div class="section" id="arm-instrument-handbook">
<h3>ARM Instrument Handbook<a class="headerlink" href="#arm-instrument-handbook" title="Permalink to this headline"><i class="fas fa-link"></i></a></h3>
<p>Cook, D. R. (2018). Eddy correlation flux measurement system (ECOR) instrument handbook (No. DOE/SC-ARM-TR-052). DOE Office of Science Atmospheric Radiation Measurement (ARM) Program (United States).</p>
<p>Tang, S., Xie, S., Zhang, Y., &amp; Cook, D. R. (2019). The QCECOR Value-Added Product: Quality-Controlled Eddy Correlation Flux Measurements (No. DOE/SC-ARM-TR-223). DOE Office of Science Atmospheric Radiation Measurement (ARM) Program (United States).</p>
</div>
<div class="section" id="creators">
<h3>Creators<a class="headerlink" href="#creators" title="Permalink to this headline"><i class="fas fa-link"></i></a></h3>
<p>This notebook was put together by Nick Markus using an initial notebook by Adam Theisen.</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="notebook-template.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Project Pythia Notebook Template</p>
        </div>
    </a>
</div>
            </div>
          </div>
        </main>

      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

<footer class="footer">
  <div class="container-fluid m-0 p-0">
  
    <div class="footer-item">
    
  <div class="container-fluid footer-logos">
    <div class="container-xl">
      <div class="row d-flex flex-wrap align-items-center">
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="NCAR" src="../_images/NCAR-contemp-logo-blue.svg" style="width: 100%">
        </div>
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="Unidata" src="../_images/Unidata_logo_horizontal_1200x300.svg" style="width: 100%">
        </div>
        <div class="d-flex col-lg-3 col-md-4 col-sm-6 p-2 mx-auto">
          <img alt="UAlbany" src="../_images/UAlbany-A2-logo-purple-gold.svg" style="width: 100%">
        </div>
      </div>
    </div>
  </div>
    </div>
  
    <div class="footer-item">
    
    </div>
  
    <div class="footer-item">
      <div class="container-fluid footer-info">
    <div class="container-xl">
      <div class="d-flex justify-content-center">
        <p class="py-1 m-0">
            &copy;&nbsp;2022.
        
          By the <a href="https://projectpythia.org/">Project Pythia</a> Community.
        
          Last updated on 2 August 2023.
        </p>
      </div>
    </div>
  </div>
    </div>
  
    <div class="footer-item">
    
    </div>
  
  </div>
</footer>
  </body>
</html>